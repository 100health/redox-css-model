# DEPRECATED.

Further dashboard updates can be done directly in the dashboard repository: https://github.com/100health/dashboard

# Redox's atomic (S)CSS model

This repository contains a set of *atoms* defined using the [cssmodeler](https://github.com/srouse/cssmodeler) library and used on https://www.redoxengine.com. Atoms are basic, descriptive classes (or Sass mixins) like `.a-margin-row-1`, `.a-float-left`, and `.a-centered`.

Atoms are composed to form higher-level classes that implement complex behaviors. These classes are broken into two types. There are *objects*, like `.o-form`, which are built to be reusable across the whole site. When you update an object, you need to make sure that it's not used anywhere else on the site. On the other hand, we have *components*, like `.c-mainNav`, which are used for one specific part of the site (in this case, the top navbar). Components contain the hairy styles that don't fit in a generalized system. Because components' classes are only used in one part of the site, they can always be updated without causing breakage elsewhere. This makes components much easier to update quickly. On the other hand, if you want to use a component in another place, you need to "extract" an object class from the component. The object class contains the styles that are used in both views, and you can keep the component to define any view-specific overrides.

As you can probably tell, the classes for atoms are prefixed with `a-`, components are prefixed with `c-`, and objects with `o-`. This repository only contains atoms -- objects and components are injected from the RedoxEngine repository for prototyping. We use the BEM-derived [BEMIT](http://csswizardry.com/2015/08/bemit-taking-the-bem-naming-convention-a-step-further/) naming scheme for our CSS.

If you're reading this README in Github, you should know that it is published, along with some other useful tools, to http://100health.github.io/redox-css-model.

## Using the atoms

Install the package: `bower install redox-css-model`

Reference the atoms in the desired format according to the below table. 

```
Atoms (CSS classes)                 dist/csscore/core.css
Atoms (SCSS classes and mixins)     dist/csscore/scss/core.scss
Atoms (SCSS mixins)                 dist/csscore/scss/_core_mixins.scss
```

You can [wiredep](https://github.com/taptapship/wiredep), Sass's `@include`, or `<link>` tags to reference the desired files. Note that the filenames are relative to the `bower_components/redox-css-model` folder in your project.

Find out more about the atoms you just installed in the [style guide](http://100health.github.io/redox-css-model/dist/csscore/styleguide/).

## How to Contribute

Contributions are performed via pull requests, which should have an attached issue. Redox developers should use feature branches for their pull requests and follow the same code review policy they always do for contributions.

When contributing, use the following guidelines. Remember that everything in `dist/` is generated by Grunt, and must not be manually edited!

Note: If you are a Redox developer looking to edit objects or components in use on redoxengine.com, then you should use the private RedoxEngine repository.

### Build/Quickstart

1. Check out: `git clone https://github.com/100health/redox-css-model.git`
2. Check out Redox Engine repository to `./redox-css-model/RedoxEngine_repo`
3. Install dependencies: `npm i`
4. Run grunt commands: `grunt full` to build, or `grunt watch` to trigger rebuilds when files change.
5. (Optional: run the docs locally) Start an HTTP server (e.g. `python -m http.server`) in the `redox-css-model` directory. Open the `index.html` file in a Web browser (e.g. `http://localhost:8000/index.html`).

Once everything is set up, read on to learn more about how to use the project.

### Implementing the prototype UI

If you want to implement the UI that's apparent in [the prototype](http://100health.github.io/redox-css-model/dist/), you can click on the gray space that surrounds it to see a stubbed version of the HTML used in the UI, which is handy for constructing your HTML templates to conform to the styles.  

### Modifying Atoms

Atoms are defined in `cssmodeling/`. They use the `cssmodeler` system, which provides (among other features) a compact way to declare lots and lots of CSS classes at once using nested JSON structures. Use `grunt full` to compile the atoms (as well as everything else). Even a small change in one of these JSON files might have significant reprecussions in the compiled output, so don't be surprised by your Git diffs!

The main rationale for declaring atoms in this way is that we can create a bunch of classes like `.a-width-col-1`, ``.a-width-col-2`, `.a-width-col-3`, etc. in a compact way. The reason we prefer to use many discrete classes instead of something more generic and compact like [Neat](http://neat.bourbon.io/)'s `@include span-columns(3)` is because using separate classes enforces a more unified design by preventing people from creating, for example, an element that spans 1.36 columns. This method also allows atoms to be used directly as classes, and so it doesn't depend as much on Sass.

To learn more about editing atoms, check out the [cssmodeler section](http://100health.github.io/redox-css-model/README.html#cssmodeling) of the README.

### Prototyping

Prototyping using the generated SCSS should be performed in the `prototype/` (and `/protodata`) directory. Generally speaking, the files in this directory are intended to serve as a starting point for designers to hack on as well as a reference implementation for developers, but don't directly reference or depend on prototype files. There is no guarantee that they will not change dramatically even within a major version, because they are not considered part of the semver contract. The current prototype is a React-based demo application that directly references the components in `scss/`.

### Versioning

This repository uses semantic versioning. This simply means that we have three version numbers, `x.y.z`. If you want to make a change that modifies or removes existing atoms, (and more loosely, objects and components) in a non-backwards-compatible manner, then you **must** make it a major release (increment the `x` version number). Adding backwards-compatible features mandates an increment to the minor version number `y`. A bug patch would increment the patch version number `z`.

Each time you release a new version, you should both *update the bower.json* and *tag the commit* with the version number so that Bower clients are able to install older versions. You can do this using Git tags (e.g. tagging the commit `v1.5.0`), or you can use GitHub's [Releases](https://github.com/100health/redox-css-model/releases) function, which provides a GUI for the same process.

### Objects and components

Objects and components are injected in the `scss/` directory. The actual objects and components are retrieved from the `RedoxEngine_repo` folder, which contains private code, and must be checked out separately. The `redox-css-model` repository is only a versioned, canonical storage location for atoms, *not* objects and components. Any object or component files in this repository are either build artifacts or prototyping tools.
